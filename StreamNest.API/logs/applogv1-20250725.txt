2025-07-25 02:21:35.999 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 02:21:36.253 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 02:21:36.264 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 02:21:36.268 +01:00 [INF] Hosting environment: Development
2025-07-25 02:21:36.270 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 02:22:26.065 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 02:22:26.235 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 172.8367ms
2025-07-25 02:22:26.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui.css - null null
2025-07-25 02:22:26.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.css - null null
2025-07-25 02:22:26.343 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui-bundle.js - null null
2025-07-25 02:22:26.350 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 02:22:26.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui-standalone-preset.js - null null
2025-07-25 02:22:26.378 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-25 02:22:26.396 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 44.8582ms
2025-07-25 02:22:26.411 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-25 02:22:26.428 +01:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-07-25 02:22:26.442 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui.css - 200 154948 text/css 126.1382ms
2025-07-25 02:22:26.443 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-25 02:22:26.460 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 116.8002ms
2025-07-25 02:22:26.495 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 145.8888ms
2025-07-25 02:22:26.476 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.css - 200 202 text/css 144.3192ms
2025-07-25 02:22:26.974 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/favicon-32x32.png - null null
2025-07-25 02:22:26.981 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-25 02:22:26.986 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/favicon-32x32.png - 200 628 image/png 11.6241ms
2025-07-25 02:22:27.409 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 02:22:27.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.4874ms
2025-07-25 02:22:32.992 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 02:22:33.001 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 9.9037ms
2025-07-25 02:22:33.076 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 02:22:33.099 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 22.8367ms
2025-07-25 02:22:33.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 02:22:33.713 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.8322ms
2025-07-25 02:23:07.229 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 02:23:07.244 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 02:23:07.305 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:23:07.308 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:23:07.468 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:23:07.511 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 02:23:12.403 +01:00 [INF] Executed DbCommand (312ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:23:12.944 +01:00 [INF] Executed DbCommand (299ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 02:23:13.232 +01:00 [INF] Executed DbCommand (276ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:23:13.603 +01:00 [INF] Executed DbCommand (265ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 02:23:13.657 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 02:23:13.680 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6151.5658ms
2025-07-25 02:23:13.688 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:23:13.697 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 6467.8196ms
2025-07-25 02:23:41.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-25 02:23:41.353 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 02:23:41.366 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 02:23:41.912 +01:00 [INF] Executed DbCommand (268ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-25 02:23:41.941 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 02:23:41.979 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 603.4066ms
2025-07-25 02:23:41.985 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 02:23:41.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 712.1098ms
2025-07-25 02:24:22.576 +01:00 [INF] Application is shutting down...
2025-07-25 02:35:28.260 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 02:35:28.752 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 02:35:28.767 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 02:35:28.775 +01:00 [INF] Hosting environment: Development
2025-07-25 02:35:28.779 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 02:35:47.543 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 02:35:47.785 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 243.0064ms
2025-07-25 02:35:47.924 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 02:35:47.935 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 12.0955ms
2025-07-25 02:35:48.787 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 02:35:49.146 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 358.9616ms
2025-07-25 02:36:19.714 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 02:36:19.725 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 02:36:19.759 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:36:19.763 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:36:19.818 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:36:19.861 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 02:36:24.169 +01:00 [INF] Executed DbCommand (357ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:36:24.728 +01:00 [INF] Executed DbCommand (284ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 02:36:25.002 +01:00 [INF] Executed DbCommand (262ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:36:25.372 +01:00 [INF] Executed DbCommand (265ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 02:36:25.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 02:36:25.458 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 5586.2462ms
2025-07-25 02:36:25.465 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:36:25.482 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 5767.635ms
2025-07-25 02:36:50.726 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-25 02:36:50.797 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 02:36:50.808 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 02:36:51.300 +01:00 [INF] Executed DbCommand (287ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-25 02:36:51.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 02:36:51.380 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 566.9306ms
2025-07-25 02:36:51.384 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 02:36:51.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 664.1542ms
2025-07-25 02:37:45.417 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 118
2025-07-25 02:37:45.428 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:37:45.431 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:37:45.446 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:37:45.459 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:37:45.842 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 02:37:45.853 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.CommentResponseDto'.
2025-07-25 02:37:45.876 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 406.0852ms
2025-07-25 02:37:45.883 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:37:45.887 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 201 null application/json; charset=utf-8 470.282ms
2025-07-25 02:38:18.869 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/f33a62a5-9994-46b3-b8ee-8ccbe13ba754 - null null
2025-07-25 02:38:18.878 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:38:18.915 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:38:19.215 +01:00 [INF] Executed DbCommand (280ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 02:38:19.227 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 02:38:19.263 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 341.7161ms
2025-07-25 02:38:19.279 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:38:19.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/f33a62a5-9994-46b3-b8ee-8ccbe13ba754 - 404 null application/json; charset=utf-8 418.4337ms
2025-07-25 02:38:52.559 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 02:38:52.586 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:38:52.610 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:38:52.912 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 02:38:52.921 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 02:38:52.924 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 306.0647ms
2025-07-25 02:38:52.929 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:38:52.932 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 373.3644ms
2025-07-25 02:39:03.472 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 122
2025-07-25 02:39:03.482 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:39:03.485 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:39:03.491 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:39:03.499 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:39:03.795 +01:00 [INF] Executed DbCommand (280ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 02:39:03.802 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.CommentResponseDto'.
2025-07-25 02:39:03.812 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 304.826ms
2025-07-25 02:39:03.817 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:39:03.821 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 201 null application/json; charset=utf-8 348.2399ms
2025-07-25 02:39:07.083 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 02:39:07.092 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:39:07.107 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:39:07.407 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 02:39:07.415 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 02:39:07.419 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 303.1296ms
2025-07-25 02:39:07.423 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:39:07.426 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 342.6575ms
2025-07-25 02:45:48.402 +01:00 [INF] Application is shutting down...
2025-07-25 02:46:04.458 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 02:46:04.789 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 02:46:04.814 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 02:46:04.842 +01:00 [INF] Hosting environment: Development
2025-07-25 02:46:04.904 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 02:46:19.778 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 02:46:19.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 143.2645ms
2025-07-25 02:46:19.961 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 02:46:20.001 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 40.7074ms
2025-07-25 02:46:20.606 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 02:46:20.999 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 393.182ms
2025-07-25 02:46:42.011 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 02:46:42.024 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 02:46:42.055 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:46:42.059 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:46:42.101 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:46:42.123 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 02:46:45.689 +01:00 [INF] Executed DbCommand (319ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:46:46.235 +01:00 [INF] Executed DbCommand (277ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 02:46:46.517 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 02:46:46.923 +01:00 [INF] Executed DbCommand (270ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 02:46:46.962 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 02:46:46.983 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 4853.1897ms
2025-07-25 02:46:46.991 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 02:46:47.003 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 4991.033ms
2025-07-25 02:47:33.142 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 83
2025-07-25 02:47:33.154 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:47:33.158 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:47:33.221 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:47:33.228 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:47:33.256 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 02:47:33.288 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 51.9927ms
2025-07-25 02:47:33.293 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:47:33.296 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 400 null application/problem+json; charset=utf-8 153.5262ms
2025-07-25 02:47:46.757 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 83
2025-07-25 02:47:46.765 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:47:46.767 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:47:46.782 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:47:46.787 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:47:46.804 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 02:47:46.807 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 13.5519ms
2025-07-25 02:47:46.810 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:47:46.814 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 400 null application/problem+json; charset=utf-8 56.9351ms
2025-07-25 02:52:05.456 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 83
2025-07-25 02:52:05.462 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:52:05.464 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:52:05.468 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:52:05.475 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:52:05.484 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 02:52:05.488 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 6.5499ms
2025-07-25 02:52:05.491 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:52:05.496 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 400 null application/problem+json; charset=utf-8 39.692ms
2025-07-25 02:53:03.997 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 82
2025-07-25 02:53:04.005 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:53:04.009 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:53:04.017 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:53:04.024 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:53:04.040 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 02:53:04.044 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 6.7529ms
2025-07-25 02:53:04.055 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:53:04.061 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 400 null application/problem+json; charset=utf-8 64.2823ms
2025-07-25 02:54:28.640 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 81
2025-07-25 02:54:28.656 +01:00 [INF] CORS policy execution failed.
2025-07-25 02:54:28.660 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 02:54:28.668 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:54:28.679 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:54:30.809 +01:00 [INF] Executed DbCommand (256ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 02:54:30.818 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.CommentResponseDto'.
2025-07-25 02:54:30.847 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 2156.2398ms
2025-07-25 02:54:30.851 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 02:54:30.854 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 201 null application/json; charset=utf-8 2214.0994ms
2025-07-25 02:54:43.102 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 02:54:43.134 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:54:43.152 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 02:54:43.521 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 02:54:43.531 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 02:54:43.538 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 380.9609ms
2025-07-25 02:54:43.542 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 02:54:43.544 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 442.8958ms
2025-07-25 03:00:06.121 +01:00 [INF] Application is shutting down...
2025-07-25 04:04:36.492 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:04:37.018 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:04:37.043 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:04:37.058 +01:00 [INF] Hosting environment: Development
2025-07-25 04:04:37.065 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:05:34.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 04:05:34.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 232.8502ms
2025-07-25 04:05:34.661 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 04:05:34.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 14.4381ms
2025-07-25 04:05:35.186 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 04:05:35.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 413.4923ms
2025-07-25 04:07:01.783 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 04:07:01.797 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:07:01.858 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:07:01.861 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:07:01.923 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:07:02.003 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 04:07:04.126 +01:00 [ERR] An error occurred using the connection to database 'streamnest' on server 'tcp://dpg-d1ujsi3uibrs738issbg-a.oregon-postgres.render.com:5432'.
2025-07-25 04:07:04.171 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RepositoryContext'.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-25 04:07:04.246 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 2154.5921ms
2025-07-25 04:07:04.252 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:07:04.258 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at StreamNest.Application.Services.AuthenticationService.ValidateUser(UserForAuthenticationDto userForAuth) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\AuthenticationService.cs:line 49
   at StreamNest.API.Controllers.AuthenticationController.Authenticate(UserForAuthenticationDto user) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\AuthenticationControllers.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:07:04.348 +01:00 [ERR] Exception: SocketException - No such host is known.
2025-07-25 04:07:04.389 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 500 null application/json; charset=utf-8 2606.7258ms
2025-07-25 04:07:26.114 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 04:07:26.185 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:07:26.274 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:07:26.294 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:07:26.305 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 04:07:28.770 +01:00 [INF] Executed DbCommand (340ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:07:29.343 +01:00 [INF] Executed DbCommand (259ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 04:07:29.618 +01:00 [INF] Executed DbCommand (261ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:07:30.007 +01:00 [INF] Executed DbCommand (260ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 04:07:30.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 04:07:30.084 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 3772.8383ms
2025-07-25 04:07:30.097 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:07:30.103 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 3988.7274ms
2025-07-25 04:08:06.304 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:08:06.328 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:08:06.334 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:08:06.457 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:08:06.509 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:08:06.892 +01:00 [INF] Executed DbCommand (276ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:08:06.900 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 364.4706ms
2025-07-25 04:08:06.905 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:08:06.909 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Like not found.
   at StreamNest.Infrastructure.Repository.LikeRepository.GetLikeAsync(Guid videoId, String userId, Boolean trackChanges) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\LikeRepository.cs:line 24
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 23
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:08:06.953 +01:00 [ERR] Exception: KeyNotFoundException - Like not found.
2025-07-25 04:08:06.956 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 652.0244ms
2025-07-25 04:08:20.340 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:08:20.355 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:08:20.359 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:08:20.372 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:08:20.380 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:08:20.653 +01:00 [INF] Executed DbCommand (258ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:08:20.665 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 272.8856ms
2025-07-25 04:08:20.673 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:08:20.680 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Like not found.
   at StreamNest.Infrastructure.Repository.LikeRepository.GetLikeAsync(Guid videoId, String userId, Boolean trackChanges) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\LikeRepository.cs:line 24
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 23
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:08:20.705 +01:00 [ERR] Exception: KeyNotFoundException - Like not found.
2025-07-25 04:08:20.711 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 371.3686ms
2025-07-25 04:08:34.072 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:08:34.090 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:08:34.103 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:08:34.420 +01:00 [INF] Executed DbCommand (307ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:08:34.433 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 324.0488ms
2025-07-25 04:08:34.438 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:08:34.446 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Like not found.
   at StreamNest.Infrastructure.Repository.LikeRepository.GetLikeAsync(Guid videoId, String userId, Boolean trackChanges) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\LikeRepository.cs:line 24
   at StreamNest.Application.Services.LikeService.GetLikeStatusAsync(Guid videoId, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 53
   at StreamNest.API.Controllers.LikeControllers.GetLikeStatus(Guid videoId) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:08:34.475 +01:00 [ERR] Exception: KeyNotFoundException - Like not found.
2025-07-25 04:08:34.480 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 500 null application/json; charset=utf-8 407.9765ms
2025-07-25 04:09:47.720 +01:00 [INF] Application is shutting down...
2025-07-25 04:09:55.153 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:09:55.379 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:09:55.387 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:09:55.391 +01:00 [INF] Hosting environment: Development
2025-07-25 04:09:55.394 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:10:02.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:10:02.182 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:10:02.390 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:10:02.437 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:10:06.018 +01:00 [INF] Executed DbCommand (345ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:10:06.382 +01:00 [INF] Executed DbCommand (265ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:10:06.420 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:10:06.580 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 4126.4806ms
2025-07-25 04:10:06.587 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:10:06.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 4501.005ms
2025-07-25 04:10:12.570 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:10:12.592 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:10:12.597 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:10:12.610 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:10:12.622 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:10:13.047 +01:00 [INF] Executed DbCommand (282ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:10:13.611 +01:00 [INF] Executed DbCommand (312ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:10:13.921 +01:00 [INF] Executed DbCommand (286ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:10:13.935 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:10:13.942 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1310.5692ms
2025-07-25 04:10:13.948 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:10:13.956 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 200 null application/json; charset=utf-8 1385.9812ms
2025-07-25 04:10:19.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:10:19.335 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:10:19.343 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:10:19.673 +01:00 [INF] Executed DbCommand (293ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:10:19.992 +01:00 [INF] Executed DbCommand (304ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:10:20.000 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:10:20.016 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 660.4779ms
2025-07-25 04:10:20.020 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:10:20.025 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 706.7985ms
2025-07-25 04:10:46.312 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 04:10:46.322 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:10:46.326 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:10:46.331 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:10:46.346 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 04:10:46.741 +01:00 [INF] Executed DbCommand (341ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:10:47.320 +01:00 [INF] Executed DbCommand (293ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 04:10:47.624 +01:00 [INF] Executed DbCommand (288ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:10:47.989 +01:00 [INF] Executed DbCommand (306ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 04:10:48.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 04:10:48.038 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 1685.31ms
2025-07-25 04:10:48.046 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:10:48.053 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 1740.917ms
2025-07-25 04:11:03.934 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:11:03.951 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:11:03.954 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:11:03.961 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:11:03.968 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:11:04.280 +01:00 [INF] Executed DbCommand (295ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:11:04.591 +01:00 [INF] Executed DbCommand (288ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:11:04.958 +01:00 [INF] Executed DbCommand (353ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:11:04.995 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:11:05.012 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1032.4685ms
2025-07-25 04:11:05.020 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:11:05.028 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 200 null application/json; charset=utf-8 1093.5116ms
2025-07-25 04:11:08.428 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:11:08.440 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:11:08.444 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:11:08.750 +01:00 [INF] Executed DbCommand (292ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:11:09.048 +01:00 [INF] Executed DbCommand (290ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:11:09.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:11:09.062 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 606.575ms
2025-07-25 04:11:09.072 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:11:09.077 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 648.5352ms
2025-07-25 04:28:24.205 +01:00 [INF] Application is shutting down...
2025-07-25 04:28:48.157 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:28:48.517 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:28:48.527 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:28:48.534 +01:00 [INF] Hosting environment: Development
2025-07-25 04:28:48.539 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:28:55.441 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:28:55.566 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:28:55.610 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:28:55.614 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:28:55.778 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:28:55.837 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:29:00.281 +01:00 [INF] Executed DbCommand (457ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:29:00.740 +01:00 [INF] Executed DbCommand (261ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Likes"
WHERE "Id" = @p0;
2025-07-25 04:29:01.072 +01:00 [INF] Executed DbCommand (276ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:29:01.097 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 5241.8936ms
2025-07-25 04:29:01.105 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:29:01.110 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:29:01.172 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:29:01.258 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 5820.2504ms
2025-07-25 04:29:07.432 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:29:07.451 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:29:07.459 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:29:07.472 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:29:07.476 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:29:07.893 +01:00 [INF] Executed DbCommand (271ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:29:08.209 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:29:08.491 +01:00 [INF] Executed DbCommand (269ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:29:08.506 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:29:08.528 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1038.5036ms
2025-07-25 04:29:08.534 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:29:08.538 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 200 null application/json; charset=utf-8 1106.4875ms
2025-07-25 04:29:12.754 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:29:12.765 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:29:12.768 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:29:12.780 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:29:12.783 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:29:13.133 +01:00 [INF] Executed DbCommand (308ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:29:13.563 +01:00 [INF] Executed DbCommand (417ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Likes"
WHERE "Id" = @p0;
2025-07-25 04:29:13.865 +01:00 [INF] Executed DbCommand (291ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:29:13.872 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1082.9251ms
2025-07-25 04:29:13.877 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:29:13.884 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:29:13.913 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:29:13.917 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 1163.6504ms
2025-07-25 04:30:57.640 +01:00 [INF] Application is shutting down...
2025-07-25 04:31:11.313 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:31:11.569 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:31:11.589 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:31:11.603 +01:00 [INF] Hosting environment: Development
2025-07-25 04:31:11.612 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:31:14.719 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:31:14.796 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:31:14.843 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:31:14.847 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:31:15.029 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 3:25:47 AM', Current time (UTC): '7/25/2025 3:31:15 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 04:31:15.054 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 3:25:47 AM', Current time (UTC): '7/25/2025 3:31:15 AM'.
2025-07-25 04:31:15.068 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 04:31:15.085 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 04:31:15.104 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 401 0 null 386.8864ms
2025-07-25 04:31:20.174 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 04:31:20.324 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 150.2825ms
2025-07-25 04:31:20.413 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 04:31:20.463 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 49.5156ms
2025-07-25 04:31:21.260 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 04:31:22.843 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1582.5185ms
2025-07-25 04:31:42.729 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 04:31:42.740 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:31:42.744 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:31:42.752 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:31:42.790 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 04:31:46.437 +01:00 [INF] Executed DbCommand (320ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:31:47.036 +01:00 [INF] Executed DbCommand (268ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 04:31:47.344 +01:00 [INF] Executed DbCommand (285ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 04:31:47.773 +01:00 [INF] Executed DbCommand (273ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 04:31:47.812 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 04:31:47.847 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 5042.7667ms
2025-07-25 04:31:47.855 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 04:31:47.874 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 5144.4807ms
2025-07-25 04:32:32.110 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-25 04:32:32.149 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 04:32:32.160 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 04:32:32.675 +01:00 [INF] Executed DbCommand (294ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-25 04:32:32.704 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 04:32:32.742 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 575.2458ms
2025-07-25 04:32:32.749 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 04:32:32.752 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 642.068ms
2025-07-25 04:33:18.753 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:33:18.766 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:33:18.838 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:33:18.849 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:33:18.861 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:33:19.217 +01:00 [INF] Executed DbCommand (262ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:33:19.597 +01:00 [INF] Executed DbCommand (288ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Likes"
WHERE "Id" = @p0;
2025-07-25 04:33:19.949 +01:00 [INF] Executed DbCommand (262ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:33:19.972 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1102.7904ms
2025-07-25 04:33:19.978 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:33:19.984 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:33:20.037 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:33:20.058 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 1304.7594ms
2025-07-25 04:37:00.820 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:37:00.832 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 04:37:00.844 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 04:37:03.081 +01:00 [INF] Executed DbCommand (261ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 04:37:03.097 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 04:37:03.111 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 2259.6207ms
2025-07-25 04:37:03.118 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 04:37:03.127 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 2306.4193ms
2025-07-25 04:38:32.700 +01:00 [INF] Application is shutting down...
2025-07-25 04:38:40.126 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:38:40.301 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:38:40.309 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:38:40.314 +01:00 [INF] Hosting environment: Development
2025-07-25 04:38:40.319 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:38:49.290 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:38:49.360 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:38:49.391 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:38:49.395 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:38:49.535 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:38:49.571 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:38:53.451 +01:00 [INF] Executed DbCommand (319ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:38:53.923 +01:00 [INF] Executed DbCommand (272ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:38:54.254 +01:00 [INF] Executed DbCommand (267ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:38:54.287 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 4696.8174ms
2025-07-25 04:38:54.294 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:38:54.302 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:38:54.356 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:38:54.424 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 5135.2565ms
2025-07-25 04:38:57.333 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:38:57.349 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:38:57.355 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:38:57.371 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:38:57.375 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:39:19.526 +01:00 [ERR] Failed executing DbCommand (22,065ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:39:19.554 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RepositoryContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-25 04:39:19.613 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 22225.9946ms
2025-07-25 04:39:19.620 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:39:19.630 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.LikeRepository.GetLikeAsync(Guid videoId, String userId, Boolean trackChanges) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\LikeRepository.cs:line 24
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 23
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:39:19.849 +01:00 [ERR] Exception: InvalidOperationException - An exception has been raised that is likely due to a transient failure.
2025-07-25 04:39:19.853 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 22520.5258ms
2025-07-25 04:39:36.759 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:39:36.772 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:39:36.776 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:39:36.799 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:39:36.805 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:39:38.678 +01:00 [INF] Executed DbCommand (273ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:39:38.975 +01:00 [INF] Executed DbCommand (262ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Likes"
WHERE "Id" = @p0;
2025-07-25 04:39:39.255 +01:00 [INF] Executed DbCommand (263ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:39:39.273 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 2457.8634ms
2025-07-25 04:39:39.281 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:39:39.286 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:39:39.324 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:39:39.330 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 2571.1764ms
2025-07-25 04:39:40.749 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:39:40.758 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:39:40.761 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:39:40.768 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:39:40.778 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:39:41.237 +01:00 [INF] Executed DbCommand (448ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:39:41.769 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:39:42.067 +01:00 [INF] Executed DbCommand (265ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:39:42.098 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1310.5123ms
2025-07-25 04:39:42.109 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:39:42.116 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.ToggleLikeAsync(CreateLikeDto createLikeDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 43
   at StreamNest.API.Controllers.LikeControllers.ToggleLike(CreateLikeDto createLikeDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:39:42.138 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:39:42.142 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 500 null application/json; charset=utf-8 1392.8437ms
2025-07-25 04:40:11.092 +01:00 [INF] Application is shutting down...
2025-07-25 04:41:17.419 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:41:17.658 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:41:17.669 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:41:17.675 +01:00 [INF] Hosting environment: Development
2025-07-25 04:41:17.680 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:41:30.779 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:41:30.830 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:41:31.014 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:41:31.064 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:41:34.758 +01:00 [INF] Executed DbCommand (302ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:41:35.108 +01:00 [INF] Executed DbCommand (255ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:41:35.128 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 4050.0458ms
2025-07-25 04:41:35.139 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:41:35.144 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.LikeService.GetLikeStatusAsync(Guid videoId, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\LikeService.cs:line 57
   at StreamNest.API.Controllers.LikeControllers.GetLikeStatus(Guid videoId) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\LikeControllers.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 04:41:35.200 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 04:41:35.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 500 null application/json; charset=utf-8 4527.8837ms
2025-07-25 04:41:53.896 +01:00 [INF] Application is shutting down...
2025-07-25 04:42:01.092 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:42:01.337 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:42:01.350 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:42:01.355 +01:00 [INF] Hosting environment: Development
2025-07-25 04:42:01.359 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:42:04.898 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - null null
2025-07-25 04:42:04.985 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 04:42:05.184 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:42:05.215 +01:00 [INF] Route matched with {action = "GetLikeStatus", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeStatus(System.Guid) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:42:08.856 +01:00 [INF] Executed DbCommand (328ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:42:09.218 +01:00 [INF] Executed DbCommand (269ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:42:09.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:42:09.337 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API) in 4105.0231ms
2025-07-25 04:42:09.346 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.GetLikeStatus (StreamNest.API)'
2025-07-25 04:42:09.364 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Likes/68bc8dd4-5cb4-46f6-bb4c-54eaf535fdeb - 200 null application/json; charset=utf-8 4468.0062ms
2025-07-25 04:42:14.205 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:42:14.226 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:42:14.231 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:42:14.245 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:42:14.266 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:42:14.722 +01:00 [INF] Executed DbCommand (298ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:42:15.365 +01:00 [INF] Executed DbCommand (271ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Likes"
WHERE "Id" = @p0;
2025-07-25 04:42:15.670 +01:00 [INF] Executed DbCommand (275ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:42:15.678 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:42:15.687 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 1407.5872ms
2025-07-25 04:42:15.692 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:42:15.699 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 200 null application/json; charset=utf-8 1494.0822ms
2025-07-25 04:42:18.233 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Likes - application/json 55
2025-07-25 04:42:18.249 +01:00 [INF] CORS policy execution failed.
2025-07-25 04:42:18.255 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 04:42:18.268 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:42:18.278 +01:00 [INF] Route matched with {action = "ToggleLike", controller = "LikeControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleLike(StreamNest.Application.DTOs.CreateLikeDto) on controller StreamNest.API.Controllers.LikeControllers (StreamNest.API).
2025-07-25 04:42:18.623 +01:00 [INF] Executed DbCommand (290ms) [Parameters=[@__videoId_0='?' (DbType = Guid), @__userId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0 AND l."UserId" = @__userId_1
LIMIT 1
2025-07-25 04:42:18.956 +01:00 [INF] Executed DbCommand (294ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Likes" ("Id", "LikedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3);
2025-07-25 04:42:19.237 +01:00 [INF] Executed DbCommand (266ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Likes" AS l
WHERE l."VideoId" = @__videoId_0
2025-07-25 04:42:19.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.LikeResponseDto'.
2025-07-25 04:42:19.252 +01:00 [INF] Executed action StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API) in 962.7662ms
2025-07-25 04:42:19.260 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.LikeControllers.ToggleLike (StreamNest.API)'
2025-07-25 04:42:19.267 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Likes - 200 null application/json; charset=utf-8 1034.5616ms
2025-07-25 04:45:48.371 +01:00 [INF] Application is shutting down...
2025-07-25 04:45:56.751 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 04:45:56.904 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 04:45:56.912 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 04:45:56.917 +01:00 [INF] Hosting environment: Development
2025-07-25 04:45:56.919 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 04:46:01.206 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 04:46:01.454 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 251.8605ms
2025-07-25 04:46:01.524 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 04:46:01.555 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 32.1082ms
2025-07-25 04:46:02.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 04:46:02.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 422.4742ms
2025-07-25 04:46:32.015 +01:00 [INF] Application is shutting down...
2025-07-25 17:13:28.872 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 17:13:29.225 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 17:13:29.246 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 17:13:29.253 +01:00 [INF] Hosting environment: Development
2025-07-25 17:13:29.259 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 17:14:16.487 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 17:14:17.256 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 772.9726ms
2025-07-25 17:14:17.370 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 17:14:17.411 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 41.8641ms
2025-07-25 17:14:18.430 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 17:14:18.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 527.5363ms
2025-07-25 17:14:59.463 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 17:14:59.500 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 17:14:59.580 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:14:59.587 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:14:59.692 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:14:59.779 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 17:15:02.996 +01:00 [ERR] An error occurred using the connection to database 'streamnest' on server 'tcp://dpg-d1ujsi3uibrs738issbg-a.oregon-postgres.render.com:5432'.
2025-07-25 17:15:03.027 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RepositoryContext'.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-25 17:15:03.089 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 3289.9423ms
2025-07-25 17:15:03.098 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:15:03.109 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at StreamNest.Application.Services.AuthenticationService.ValidateUser(UserForAuthenticationDto userForAuth) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\AuthenticationService.cs:line 49
   at StreamNest.API.Controllers.AuthenticationController.Authenticate(UserForAuthenticationDto user) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\AuthenticationControllers.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:15:03.241 +01:00 [ERR] Exception: SocketException - No such host is known.
2025-07-25 17:15:03.322 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 500 null application/json; charset=utf-8 3858.1543ms
2025-07-25 17:15:45.485 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 59
2025-07-25 17:15:45.582 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:15:45.605 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:15:45.628 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:15:45.646 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 17:15:49.401 +01:00 [INF] Executed DbCommand (587ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:15:50.805 +01:00 [INF] Executed DbCommand (471ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 17:15:51.207 +01:00 [INF] Executed DbCommand (337ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:15:51.823 +01:00 [INF] Executed DbCommand (410ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 17:15:51.904 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 17:15:51.927 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6259.3444ms
2025-07-25 17:15:51.934 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:15:51.939 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 6454.2489ms
2025-07-25 17:16:14.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-25 17:16:15.141 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 17:16:15.165 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:16:15.878 +01:00 [INF] Executed DbCommand (275ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-25 17:16:15.975 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:16:16.060 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 873.911ms
2025-07-25 17:16:16.129 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 17:16:16.147 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 1179.4522ms
2025-07-25 17:16:51.620 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - null null
2025-07-25 17:16:51.639 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:16:51.675 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:16:52.189 +01:00 [INF] Executed DbCommand (408ms) [Parameters=[@__videoPostId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", t."Id0", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FirstName", t."LastName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenExpiryTime", t."Role", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id" AS "Id0", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "Videos" AS v
    INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
    WHERE v."Id" = @__videoPostId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."Id", t."Id0", t0."VideoId", t0."TagId"
2025-07-25 17:16:52.515 +01:00 [INF] Executed DbCommand (287ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 17:16:52.537 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:16:52.561 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 875.0253ms
2025-07-25 17:16:52.573 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:16:52.581 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - 200 null application/json; charset=utf-8 961.0129ms
2025-07-25 17:17:04.113 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 77
2025-07-25 17:17:04.124 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:17:04.129 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:17:04.137 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:17:04.159 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:17:04.690 +01:00 [INF] Executed DbCommand (271ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 17:17:04.747 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 572.0754ms
2025-07-25 17:17:04.768 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:17:04.781 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at StreamNest.Application.Services.CommentService.CreateCommentAsync(CreateCommentDto createCommentDto, String userProfileId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\CommentService.cs:line 35
   at StreamNest.API.Controllers.CommentsController.CreateComment(CreateCommentDto createCommentDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\CommentControllers.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:17:04.839 +01:00 [ERR] Exception: NullReferenceException - Object reference not set to an instance of an object.
2025-07-25 17:17:04.850 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 500 null application/json; charset=utf-8 737.5879ms
2025-07-25 17:26:53.008 +01:00 [INF] Application is shutting down...
2025-07-25 17:27:12.340 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 17:27:12.569 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 17:27:12.577 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 17:27:12.582 +01:00 [INF] Hosting environment: Development
2025-07-25 17:27:12.586 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 17:27:22.633 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 77
2025-07-25 17:27:22.741 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 17:27:22.812 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:27:22.816 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:27:23.043 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:27:23.094 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:27:29.709 +01:00 [INF] Executed DbCommand (497ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 17:27:29.800 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.CommentResponseDto'.
2025-07-25 17:27:29.918 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 6805.1293ms
2025-07-25 17:27:29.931 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:27:29.965 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 201 null application/json; charset=utf-8 7335.371ms
2025-07-25 17:27:38.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - null null
2025-07-25 17:27:38.964 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:27:38.988 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:27:40.636 +01:00 [INF] Executed DbCommand (442ms) [Parameters=[@__videoPostId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", t."Id0", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FirstName", t."LastName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenExpiryTime", t."Role", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id" AS "Id0", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "Videos" AS v
    INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
    WHERE v."Id" = @__videoPostId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."Id", t."Id0", t0."VideoId", t0."TagId"
2025-07-25 17:27:41.029 +01:00 [INF] Executed DbCommand (287ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 17:27:41.056 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:27:41.088 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 2083.8782ms
2025-07-25 17:27:41.102 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:27:41.109 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - 200 null application/json; charset=utf-8 2207.3449ms
2025-07-25 17:27:48.235 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/Comments - application/json 77
2025-07-25 17:27:48.254 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:27:48.260 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:27:48.278 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:27:48.357 +01:00 [INF] Route matched with {action = "CreateComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateComment(StreamNest.Application.DTOs.CreateCommentDto) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:27:48.815 +01:00 [INF] Executed DbCommand (378ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "UserId", "VideoId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-25 17:27:48.831 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.CommentResponseDto'.
2025-07-25 17:27:48.848 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API) in 476.5727ms
2025-07-25 17:27:48.860 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.CreateComment (StreamNest.API)'
2025-07-25 17:27:48.872 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/Comments - 201 null application/json; charset=utf-8 636.3518ms
2025-07-25 17:27:59.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - null null
2025-07-25 17:27:59.524 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:27:59.535 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:27:59.875 +01:00 [INF] Executed DbCommand (308ms) [Parameters=[@__videoPostId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", t."Id0", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FirstName", t."LastName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenExpiryTime", t."Role", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id" AS "Id0", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "Videos" AS v
    INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
    WHERE v."Id" = @__videoPostId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."Id", t."Id0", t0."VideoId", t0."TagId"
2025-07-25 17:28:02.567 +01:00 [INF] Executed DbCommand (2,613ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 17:28:02.581 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:28:02.587 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 3031.8293ms
2025-07-25 17:28:02.593 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:28:02.598 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/f6b24b88-db0d-44a0-87dc-d1bf74105d5e - 200 null application/json; charset=utf-8 3100.6071ms
2025-07-25 17:28:12.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-25 17:28:12.492 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 17:28:12.506 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:28:13.273 +01:00 [INF] Executed DbCommand (676ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-25 17:28:13.294 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:28:13.333 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 804.1477ms
2025-07-25 17:28:13.343 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-25 17:28:13.353 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 874.5748ms
2025-07-25 17:28:42.434 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/Comments/5125006e-d2ae-4d0e-9b25-63c92a051ac7 - null null
2025-07-25 17:28:42.466 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:28:42.479 +01:00 [INF] Route matched with {action = "GetCommentsByVideoId", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByVideoId(System.Guid) on controller StreamNest.API.Controllers.CommentsController (StreamNest.API).
2025-07-25 17:28:42.881 +01:00 [INF] Executed DbCommand (382ms) [Parameters=[@__videoPostId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", t."Id0", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FirstName", t."LastName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenExpiryTime", t."Role", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id" AS "Id0", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "Videos" AS v
    INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
    WHERE v."Id" = @__videoPostId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."Id", t."Id0", t0."VideoId", t0."TagId"
2025-07-25 17:28:43.194 +01:00 [INF] Executed DbCommand (297ms) [Parameters=[@__videoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Comments" AS c
INNER JOIN "AspNetUsers" AS a ON c."UserId" = a."Id"
WHERE c."VideoId" = @__videoId_0
ORDER BY c."CreatedAt" DESC
2025-07-25 17:28:43.207 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.CommentResponseDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 17:28:43.223 +01:00 [INF] Executed action StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API) in 726.7241ms
2025-07-25 17:28:43.229 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.CommentsController.GetCommentsByVideoId (StreamNest.API)'
2025-07-25 17:28:43.239 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/Comments/5125006e-d2ae-4d0e-9b25-63c92a051ac7 - 200 null application/json; charset=utf-8 805.4388ms
2025-07-25 17:29:40.956 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryyqWMsHqVEgkpKzmD 5600500
2025-07-25 17:29:40.971 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:29:41.008 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:29:41.028 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Creator)
2025-07-25 17:29:41.039 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-25 17:29:41.049 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 403 0 null 92.7451ms
2025-07-25 17:29:41.071 +01:00 [INF] Connection id "0HNEBJ0H30C5R", Request id "0HNEBJ0H30C5R:00000007": the application completed without reading the entire request body.
2025-07-25 17:30:02.617 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 17:30:02.629 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:30:02.651 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:30:02.661 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:30:02.679 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 17:30:03.051 +01:00 [INF] Executed DbCommand (298ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:30:03.882 +01:00 [INF] Executed DbCommand (464ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 17:30:04.183 +01:00 [INF] Executed DbCommand (278ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:30:04.572 +01:00 [INF] Executed DbCommand (276ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 17:30:04.677 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 17:30:04.730 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 2033.3968ms
2025-07-25 17:30:04.745 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:30:04.754 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 2137.302ms
2025-07-25 17:30:22.265 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryZlw3BERns5TowAsR 5600500
2025-07-25 17:30:22.341 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:30:22.347 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:30:22.360 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:30:22.403 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:30:48.314 +01:00 [ERR] Failed executing DbCommand (560ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Name")
VALUES (@p0)
RETURNING "Id";
INSERT INTO "Tags" ("Name")
VALUES (@p1)
RETURNING "Id";
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-07-25 17:30:48.643 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Tags_Name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Tags_Name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: IX_Tags_Name
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Tags_Name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Tags_Name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: IX_Tags_Name
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 17:30:48.748 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 26331.7115ms
2025-07-25 17:30:48.759 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:30:48.771 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Tags_Name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Tags_Name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: IX_Tags_Name
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 29
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 52
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:30:48.977 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 17:30:49.031 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 26766.2687ms
2025-07-25 17:32:00.972 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryBm4SWW11jBXpTcID 5600502
2025-07-25 17:32:00.991 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:32:01.016 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:32:01.023 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:32:01.032 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:32:25.700 +01:00 [INF] Executed DbCommand (286ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Name")
VALUES (@p0)
RETURNING "Id";
INSERT INTO "Tags" ("Name")
VALUES (@p1)
RETURNING "Id";
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-07-25 17:32:26.112 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Name" of relation "Tags" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Name" of relation "Tags" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ColumnName: Name
    File: execMain.c
    Line: 2006
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Name" of relation "Tags" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Name" of relation "Tags" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ColumnName: Name
    File: execMain.c
    Line: 2006
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 17:32:26.242 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 25197.4793ms
2025-07-25 17:32:26.251 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:32:26.397 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Name" of relation "Tags" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Name" of relation "Tags" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ColumnName: Name
    File: execMain.c
    Line: 2006
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 29
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 52
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:32:26.508 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 17:32:26.514 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 25542.498ms
2025-07-25 17:33:03.461 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryElnB9cgiBAQ9AjyJ 5600411
2025-07-25 17:33:03.473 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:33:03.481 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:33:03.504 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:33:03.512 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:33:29.085 +01:00 [INF] Executed DbCommand (306ms) [Parameters=[@p0='?', @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Name")
VALUES (@p0)
RETURNING "Id";
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-25 17:33:29.399 +01:00 [INF] Executed DbCommand (287ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p10, @p11);
2025-07-25 17:33:29.818 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.VideoDto'.
2025-07-25 17:33:29.835 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 26306.0641ms
2025-07-25 17:33:29.851 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:33:29.871 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 201 null application/json; charset=utf-8 26409.9056ms
2025-07-25 17:54:31.875 +01:00 [INF] Application is shutting down...
2025-07-25 17:55:02.198 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 17:55:02.557 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 17:55:02.568 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 17:55:02.599 +01:00 [INF] Hosting environment: Development
2025-07-25 17:55:02.609 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 17:55:44.423 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundarybtcQWs42AleLlj08 5600411
2025-07-25 17:55:44.595 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 17:55:44.639 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:55:44.644 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:55:44.853 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:55:44 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 17:55:44.896 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:55:44 PM'.
2025-07-25 17:55:44.921 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Creator)
2025-07-25 17:55:44.940 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 17:55:44.964 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 401 0 null 547.8107ms
2025-07-25 17:55:45.011 +01:00 [INF] Connection id "0HNEBJGC8H2HE", Request id "0HNEBJGC8H2HE:00000001": the application completed without reading the entire request body.
2025-07-25 17:55:51.458 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 17:55:51.482 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:55:51.486 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:55:51.506 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:55:51 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 17:55:51.527 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:55:51 PM'.
2025-07-25 17:55:51.544 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:55:51.629 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 17:55:54.723 +01:00 [ERR] An error occurred using the connection to database 'streamnest' on server 'tcp://dpg-d1ujsi3uibrs738issbg-a.oregon-postgres.render.com:5432'.
2025-07-25 17:55:54.766 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RepositoryContext'.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-25 17:55:54.848 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 3199.5011ms
2025-07-25 17:55:54.863 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:55:54.878 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at StreamNest.Application.Services.AuthenticationService.ValidateUser(UserForAuthenticationDto userForAuth) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\AuthenticationService.cs:line 49
   at StreamNest.API.Controllers.AuthenticationController.Authenticate(UserForAuthenticationDto user) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\AuthenticationControllers.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:55:55.045 +01:00 [ERR] Exception: SocketException - No such host is known.
2025-07-25 17:55:55.163 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 500 null application/json; charset=utf-8 3705.2829ms
2025-07-25 17:57:36.689 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 17:57:37.020 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:57:37.076 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:57:37.103 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:57:37 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 17:57:37.139 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 4:45:03 PM', Current time (UTC): '7/25/2025 4:57:37 PM'.
2025-07-25 17:57:37.146 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:57:37.162 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 17:57:40.761 +01:00 [INF] Executed DbCommand (422ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:57:42.137 +01:00 [INF] Executed DbCommand (476ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 17:57:43.035 +01:00 [INF] Executed DbCommand (881ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 17:57:43.842 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 17:57:43.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 17:57:43.991 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6814.3162ms
2025-07-25 17:57:43.996 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 17:57:44.002 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 7312.8242ms
2025-07-25 17:58:06.565 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryJgtAa1GDsO1ZlmEt 5600411
2025-07-25 17:58:06.701 +01:00 [INF] CORS policy execution failed.
2025-07-25 17:58:06.776 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 17:58:06.876 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:58:06.925 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 17:58:32.627 +01:00 [INF] Executed DbCommand (376ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 17:58:32.654 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 25715.8358ms
2025-07-25 17:58:32.665 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 17:58:32.675 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: #Comedy
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey](List`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 45
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 17:58:32.736 +01:00 [ERR] Exception: ArgumentException - An item with the same key has already been added. Key: #Comedy
2025-07-25 17:58:32.749 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 26183.0652ms
2025-07-25 18:03:16.182 +01:00 [INF] Application is shutting down...
2025-07-25 18:03:29.599 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 18:03:29.793 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 18:03:29.802 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 18:03:29.808 +01:00 [INF] Hosting environment: Development
2025-07-25 18:03:29.813 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 18:04:18.075 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundarynJnXAeboAcrjHoER 5600411
2025-07-25 18:04:18.174 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 18:04:18.211 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:04:18.215 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:04:18.426 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:04:18.503 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:04:51.604 +01:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:04:52.720 +01:00 [ERR] Failed executing DbCommand (528ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Id", "Name")
VALUES (@p0, @p1);
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p11, @p12);
2025-07-25 18:04:53.188 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 18:04:53.254 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 34727.775ms
2025-07-25 18:04:53.271 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:04:53.285 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 32
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 81
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:04:53.446 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 18:04:53.578 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 35504.9488ms
2025-07-25 18:06:07.589 +01:00 [INF] Application is shutting down...
2025-07-25 18:18:43.768 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 18:18:44.091 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 18:18:44.108 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 18:18:44.116 +01:00 [INF] Hosting environment: Development
2025-07-25 18:18:44.122 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 18:18:48.300 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 18:18:48.763 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 468.4791ms
2025-07-25 18:18:48.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 18:18:49.050 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 68.4861ms
2025-07-25 18:18:50.208 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 18:18:51.010 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 801.4897ms
2025-07-25 18:19:23.324 +01:00 [INF] Application is shutting down...
2025-07-25 18:19:35.656 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 18:19:35.890 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 18:19:35.899 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 18:19:35.905 +01:00 [INF] Hosting environment: Development
2025-07-25 18:19:35.909 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 18:20:42.734 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/Register - application/json 151
2025-07-25 18:20:42.949 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 18:20:43.009 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:20:43.015 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:20:43.082 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.API)'
2025-07-25 18:20:43.130 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(StreamNest.Application.DTOs.UserForRegistrationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 18:20:50.900 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 18:20:51.470 +01:00 [INF] Executed DbCommand (363ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 18:20:52.284 +01:00 [INF] Executed DbCommand (341ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-07-25 18:20:52.329 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-07-25 18:20:52.341 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.API) in 9192.2875ms
2025-07-25 18:20:52.353 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.API)'
2025-07-25 18:20:52.381 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/Register - 201 0 null 9650.5404ms
2025-07-25 18:21:35.985 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 18:21:36.002 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:21:36.039 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:21:36.076 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 18:21:36.108 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 18:21:36.701 +01:00 [INF] Executed DbCommand (376ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 18:21:37.315 +01:00 [INF] Executed DbCommand (286ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 18:21:37.737 +01:00 [INF] Executed DbCommand (407ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 18:21:38.422 +01:00 [INF] Executed DbCommand (298ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 18:21:38.496 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 18:21:38.546 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 2407.6094ms
2025-07-25 18:21:38.552 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 18:21:38.558 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 2573.2647ms
2025-07-25 18:23:30.029 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundary5ohYKxvKmO6KhyE7 5600418
2025-07-25 18:23:30.052 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:23:30.061 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:23:30.227 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:23:30.267 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:23:56.200 +01:00 [INF] Executed DbCommand (392ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:23:57.019 +01:00 [INF] Executed DbCommand (382ms) [Parameters=[@p0='?', @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Name")
VALUES (@p0)
RETURNING "Id";
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-25 18:23:57.727 +01:00 [INF] Executed DbCommand (359ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p10, @p11);
2025-07-25 18:23:58.290 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'StreamNest.Application.DTOs.VideoDto'.
2025-07-25 18:23:58.425 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 28143.5212ms
2025-07-25 18:23:58.436 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:23:58.452 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 201 null application/json; charset=utf-8 28423.1837ms
2025-07-25 18:26:49.777 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryqaTJ1GlEfoX4ovNS 5600418
2025-07-25 18:26:49.800 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:26:49.817 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:26:49.849 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:26:49.859 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:27:17.711 +01:00 [INF] Executed DbCommand (306ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:27:18.039 +01:00 [ERR] Failed executing DbCommand (305ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Id", "Name")
VALUES (@p0, @p1);
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p11, @p12);
2025-07-25 18:27:18.573 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 18:27:18.665 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 28790.9949ms
2025-07-25 18:27:18.678 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:27:18.686 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 32
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 81
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:27:18.944 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 18:27:18.995 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 29218.0903ms
2025-07-25 18:36:18.916 +01:00 [INF] Application is shutting down...
2025-07-25 18:36:43.975 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 18:36:44.194 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 18:36:44.204 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 18:36:44.208 +01:00 [INF] Hosting environment: Development
2025-07-25 18:36:44.213 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 18:36:53.963 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundary2BqlKw2TpYdsS2rC 5600418
2025-07-25 18:36:54.208 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 18:36:54.335 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:36:54.350 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:36:54.658 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:36:54.738 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:37:26.389 +01:00 [INF] Executed DbCommand (350ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:37:27.332 +01:00 [ERR] Failed executing DbCommand (405ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Id", "Name")
VALUES (@p0, @p1);
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p11, @p12);
2025-07-25 18:37:27.744 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 18:37:27.812 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 33060.3807ms
2025-07-25 18:37:27.823 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:37:27.833 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 32
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 93
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:37:28.220 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 18:37:28.432 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 34472.2047ms
2025-07-25 18:38:05.834 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryYHlmAPJdVQplWP0I 5600418
2025-07-25 18:38:05.882 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:38:05.887 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:38:05.948 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:38:05.959 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:38:29.772 +01:00 [INF] Executed DbCommand (378ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:38:30.079 +01:00 [ERR] Failed executing DbCommand (282ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Id", "Name")
VALUES (@p0, @p1);
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p11, @p12);
2025-07-25 18:38:30.593 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 18:38:30.762 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 24787.1532ms
2025-07-25 18:38:30.769 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:38:30.776 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 32
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 93
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:38:30.860 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 18:38:30.866 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 25032.781ms
2025-07-25 18:44:10.828 +01:00 [INF] Application is shutting down...
2025-07-25 18:44:40.964 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 18:44:41.242 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 18:44:41.271 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 18:44:41.275 +01:00 [INF] Hosting environment: Development
2025-07-25 18:44:41.283 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 18:44:56.405 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryL8ExQfFKcjjMyBcr 5600418
2025-07-25 18:44:56.618 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 18:44:56.670 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:44:56.674 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:44:56.867 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 5:36:36 PM', Current time (UTC): '7/25/2025 5:44:56 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 18:44:56.904 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 5:36:36 PM', Current time (UTC): '7/25/2025 5:44:56 PM'.
2025-07-25 18:44:56.925 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Creator)
2025-07-25 18:44:56.942 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 18:44:56.956 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 401 0 null 552.0854ms
2025-07-25 18:44:56.985 +01:00 [INF] Connection id "0HNEBKBS0SDI0", Request id "0HNEBKBS0SDI0:00000001": the application completed without reading the entire request body.
2025-07-25 18:45:34.931 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-25 18:45:34.953 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:45:34.959 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:45:34.972 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 5:36:36 PM', Current time (UTC): '7/25/2025 5:45:34 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-25 18:45:34.984 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/25/2025 5:36:36 PM', Current time (UTC): '7/25/2025 5:45:34 PM'.
2025-07-25 18:45:34.995 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 18:45:35.060 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-25 18:45:40.900 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 18:45:42.035 +01:00 [INF] Executed DbCommand (283ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 18:45:42.490 +01:00 [INF] Executed DbCommand (379ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 18:45:43.282 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-25 18:45:43.523 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-25 18:45:43.564 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 8488.7533ms
2025-07-25 18:45:43.571 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-25 18:45:43.586 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 8656.403ms
2025-07-25 18:46:06.987 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundaryzaIqIAEhQ2hnK0Kd 5600418
2025-07-25 18:46:07.055 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:46:07.060 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:46:07.113 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:46:07.147 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:46:30.112 +01:00 [INF] Executed DbCommand (378ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:46:31.048 +01:00 [ERR] Failed executing DbCommand (507ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("Id", "Name")
VALUES (@p0, @p1);
INSERT INTO "Videos" ("Id", "AgeRating", "CreatorId", "Description", "Genre", "Title", "UploadDate", "VideoUrl", "VideoYear")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO "VideoTags" ("TagId", "VideoId")
VALUES (@p11, @p12);
2025-07-25 18:46:31.381 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 18:46:31.528 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 24366.5365ms
2025-07-25 18:46:31.537 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:46:31.545 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Tags"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Tags"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Tags
    ConstraintName: PK_Tags
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.RepositoryManager.SaveAsync() in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\RepositoryManager.cs:line 32
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 100
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:46:32.333 +01:00 [ERR] Exception: DbUpdateException - An error occurred while saving the entity changes. See the inner exception for details.
2025-07-25 18:46:32.420 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 25433.5593ms
2025-07-25 18:48:09.555 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/VideoPosts - multipart/form-data; boundary=----WebKitFormBoundarybntooYFatDFHzAKu 5600420
2025-07-25 18:48:09.614 +01:00 [INF] CORS policy execution failed.
2025-07-25 18:48:09.630 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 18:48:09.648 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:48:09.658 +01:00 [INF] Route matched with {action = "CreateVideoPost", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVideoPost(StreamNest.Application.DTOs.CreateVideoDto) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-25 18:48:34.835 +01:00 [INF] Executed DbCommand (463ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
ORDER BY t."Name"
2025-07-25 18:48:35.106 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API) in 25430.3419ms
2025-07-25 18:48:35.116 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.CreateVideoPost (StreamNest.API)'
2025-07-25 18:48:35.124 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Tag>()
    .Where(t => t.Name.Equals(
        value: __name_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at StreamNest.Infrastructure.Repository.TagRepository.GetTagByNameAsync(String name) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Infrastructure\Repository\TagRepository.cs:line 20
   at StreamNest.Application.Services.VideoPostService.CreateVideoAsync(CreateVideoDto createVideoDto, String userId) in C:\Users\user\Desktop\c##\StreamNest\StreamNest.Application\Services\VideoPostService.cs:line 65
   at StreamNest.API.Controllers.VideoPostController.CreateVideoPost(CreateVideoDto videoPostDto) in C:\Users\user\Desktop\c##\StreamNest\streamnest.api\Controllers\VideoPostcController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-25 18:48:35.180 +01:00 [ERR] Exception: InvalidOperationException - The LINQ expression 'DbSet<Tag>()
    .Where(t => t.Name.Equals(
        value: __name_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
2025-07-25 18:48:35.192 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/VideoPosts - 500 null application/json; charset=utf-8 25637.7204ms
2025-07-25 19:01:42.102 +01:00 [INF] Application is shutting down...
2025-07-25 19:11:14.179 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 19:11:14.425 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 19:11:14.440 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 19:11:14.447 +01:00 [INF] Hosting environment: Development
2025-07-25 19:11:14.452 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 19:11:14.734 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 19:11:15.104 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 373.5677ms
2025-07-25 19:11:16.118 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 19:11:16.122 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-25 19:11:16.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 36.8156ms
2025-07-25 19:11:16.163 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 41.6168ms
2025-07-25 19:11:16.267 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-25 19:11:16.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 19.2682ms
2025-07-25 19:11:17.040 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-25 19:11:17.438 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 398.2502ms
2025-07-25 19:13:22.708 +01:00 [INF] Application is shutting down...
2025-07-25 19:16:08.858 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-25 19:16:09.201 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-25 19:16:09.245 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 19:16:09.262 +01:00 [INF] Hosting environment: Development
2025-07-25 19:16:09.275 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\StreamNest\streamnest.api
2025-07-25 19:16:15.074 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/Register - application/json 147
2025-07-25 19:16:15.187 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 19:16:15.237 +01:00 [INF] CORS policy execution failed.
2025-07-25 19:16:15.241 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-25 19:16:15.308 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.Api)'
2025-07-25 19:16:15.355 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(StreamNest.Application.DTOs.UserForRegistrationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.Api).
2025-07-25 19:16:20.708 +01:00 [INF] Executed DbCommand (382ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 19:16:21.202 +01:00 [INF] Executed DbCommand (294ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:16:22.026 +01:00 [INF] Executed DbCommand (358ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-07-25 19:16:22.208 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-07-25 19:16:22.344 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.Api) in 6973.7344ms
2025-07-25 19:16:22.362 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.RegisterUser (StreamNest.Api)'
2025-07-25 19:16:22.416 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/Register - 201 0 null 7352.8888ms
2025-07-25 19:16:41.391 +01:00 [INF] Application is shutting down...
