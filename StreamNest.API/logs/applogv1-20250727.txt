2025-07-27 00:10:20.381 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:10:20.637 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:10:20.651 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:10:20.656 +01:00 [INF] Hosting environment: Development
2025-07-27 00:10:20.661 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:11:20.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-27 00:11:20.592 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 234.0784ms
2025-07-27 00:11:20.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-27 00:11:20.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 15.0319ms
2025-07-27 00:11:21.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-27 00:11:22.644 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 674.2285ms
2025-07-27 00:12:09.008 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-27 00:12:09.021 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:12:09.059 +01:00 [INF] CORS policy execution failed.
2025-07-27 00:12:09.065 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-27 00:12:09.116 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 00:12:09.154 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-27 00:12:13.996 +01:00 [INF] Executed DbCommand (334ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 00:12:14.685 +01:00 [INF] Executed DbCommand (303ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-27 00:12:15.286 +01:00 [INF] Executed DbCommand (584ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 00:12:15.761 +01:00 [INF] Executed DbCommand (319ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-27 00:12:15.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-27 00:12:15.896 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6725.9823ms
2025-07-27 00:12:15.902 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 00:12:15.929 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 6920.2705ms
2025-07-27 00:14:25.288 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-27 00:14:25.394 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 00:14:25.405 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:14:26.006 +01:00 [INF] Executed DbCommand (334ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."ThumbnailUrl", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:14:26.041 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:14:26.095 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 681.8589ms
2025-07-27 00:14:26.101 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 00:14:26.110 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 821.8744ms
2025-07-27 00:14:44.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:14:44.337 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:14:44.349 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:14:44.807 +01:00 [INF] Executed DbCommand (302ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:14:44.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:14:45.029 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 669.0801ms
2025-07-27 00:14:45.034 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:14:45.038 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-27 00:14:45.174 +01:00 [ERR] Exception: JsonException - A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.Id.
2025-07-27 00:14:45.195 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 500 null application/json; charset=utf-8 877.0297ms
2025-07-27 00:16:35.285 +01:00 [INF] Application is shutting down...
2025-07-27 00:16:47.679 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:16:47.884 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:16:47.896 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:16:47.901 +01:00 [INF] Hosting environment: Development
2025-07-27 00:16:47.904 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:16:52.455 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:16:52.621 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:16:52.868 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api)'
2025-07-27 00:16:52.928 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.Api).
2025-07-27 00:16:57.952 +01:00 [INF] Executed DbCommand (362ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:16:58.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:16:58.497 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api) in 5557.1585ms
2025-07-27 00:16:58.503 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api)'
2025-07-27 00:16:58.520 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 200 null application/json; charset=utf-8 6067.4983ms
2025-07-27 00:18:40.232 +01:00 [INF] Application is shutting down...
2025-07-27 00:18:49.453 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:18:49.617 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:18:49.627 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:18:49.631 +01:00 [INF] Hosting environment: Development
2025-07-27 00:18:49.635 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:19:03.307 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:19:03.475 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:19:03.664 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:19:03.694 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:19:09.209 +01:00 [INF] Executed DbCommand (383ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:19:09.382 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:19:09.574 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 5866.2906ms
2025-07-27 00:19:09.581 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:19:09.603 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 200 null application/json; charset=utf-8 6298.0791ms
2025-07-27 00:20:25.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice&genre=Comedy - null null
2025-07-27 00:20:25.691 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:25.695 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:20:26.026 +01:00 [INF] Executed DbCommand (286ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:20:26.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:20:26.039 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 335.3155ms
2025-07-27 00:20:26.043 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:26.113 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice&genre=Comedy - 200 null application/json; charset=utf-8 439.099ms
2025-07-27 00:20:48.534 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20world&genre=Comedy - null null
2025-07-27 00:20:48.554 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:48.559 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:20:48.934 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:20:48.944 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:20:48.950 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 382.127ms
2025-07-27 00:20:48.953 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:48.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20world&genre=Comedy - 200 null application/json; charset=utf-8 422.5168ms
2025-07-27 00:21:01.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20&genre=Music - null null
2025-07-27 00:21:02.008 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:02.012 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:21:02.362 +01:00 [INF] Executed DbCommand (285ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:21:02.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:21:02.382 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 309.9676ms
2025-07-27 00:21:02.388 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:02.397 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20&genre=Music - 200 null application/json; charset=utf-8 401.8458ms
2025-07-27 00:21:13.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - null null
2025-07-27 00:21:13.469 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:13.473 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:21:13.800 +01:00 [INF] Executed DbCommand (300ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC
2025-07-27 00:21:13.807 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:21:13.812 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 329.9633ms
2025-07-27 00:21:13.817 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:13.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - 200 null application/json; charset=utf-8 361.4555ms
2025-07-27 00:24:11.400 +01:00 [INF] Application is shutting down...
