2025-07-27 00:10:20.381 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:10:20.637 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:10:20.651 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:10:20.656 +01:00 [INF] Hosting environment: Development
2025-07-27 00:10:20.661 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:11:20.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.html - null null
2025-07-27 00:11:20.592 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.html - 200 null text/html;charset=utf-8 234.0784ms
2025-07-27 00:11:20.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/index.js - null null
2025-07-27 00:11:20.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/index.js - 200 null application/javascript;charset=utf-8 15.0319ms
2025-07-27 00:11:21.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - null null
2025-07-27 00:11:22.644 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 674.2285ms
2025-07-27 00:12:09.008 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-27 00:12:09.021 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:12:09.059 +01:00 [INF] CORS policy execution failed.
2025-07-27 00:12:09.065 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-27 00:12:09.116 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 00:12:09.154 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-27 00:12:13.996 +01:00 [INF] Executed DbCommand (334ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 00:12:14.685 +01:00 [INF] Executed DbCommand (303ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-27 00:12:15.286 +01:00 [INF] Executed DbCommand (584ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 00:12:15.761 +01:00 [INF] Executed DbCommand (319ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-27 00:12:15.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-27 00:12:15.896 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6725.9823ms
2025-07-27 00:12:15.902 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 00:12:15.929 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 6920.2705ms
2025-07-27 00:14:25.288 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-27 00:14:25.394 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 00:14:25.405 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:14:26.006 +01:00 [INF] Executed DbCommand (334ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."ThumbnailUrl", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:14:26.041 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:14:26.095 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 681.8589ms
2025-07-27 00:14:26.101 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 00:14:26.110 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 821.8744ms
2025-07-27 00:14:44.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:14:44.337 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:14:44.349 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:14:44.807 +01:00 [INF] Executed DbCommand (302ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:14:44.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:14:45.029 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 669.0801ms
2025-07-27 00:14:45.034 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:14:45.038 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-27 00:14:45.174 +01:00 [ERR] Exception: JsonException - A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.VideoTags.Video.Id.
2025-07-27 00:14:45.195 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 500 null application/json; charset=utf-8 877.0297ms
2025-07-27 00:16:35.285 +01:00 [INF] Application is shutting down...
2025-07-27 00:16:47.679 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:16:47.884 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:16:47.896 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:16:47.901 +01:00 [INF] Hosting environment: Development
2025-07-27 00:16:47.904 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:16:52.455 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:16:52.621 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:16:52.868 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api)'
2025-07-27 00:16:52.928 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.Api).
2025-07-27 00:16:57.952 +01:00 [INF] Executed DbCommand (362ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 00:16:58.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:16:58.497 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api) in 5557.1585ms
2025-07-27 00:16:58.503 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.Api)'
2025-07-27 00:16:58.520 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 200 null application/json; charset=utf-8 6067.4983ms
2025-07-27 00:18:40.232 +01:00 [INF] Application is shutting down...
2025-07-27 00:18:49.453 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 00:18:49.617 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 00:18:49.627 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 00:18:49.631 +01:00 [INF] Hosting environment: Development
2025-07-27 00:18:49.635 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 00:19:03.307 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 00:19:03.475 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 00:19:03.664 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:19:03.694 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:19:09.209 +01:00 [INF] Executed DbCommand (383ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:19:09.382 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:19:09.574 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 5866.2906ms
2025-07-27 00:19:09.581 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:19:09.603 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 200 null application/json; charset=utf-8 6298.0791ms
2025-07-27 00:20:25.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice&genre=Comedy - null null
2025-07-27 00:20:25.691 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:25.695 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:20:26.026 +01:00 [INF] Executed DbCommand (286ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:20:26.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:20:26.039 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 335.3155ms
2025-07-27 00:20:26.043 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:26.113 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice&genre=Comedy - 200 null application/json; charset=utf-8 439.099ms
2025-07-27 00:20:48.534 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20world&genre=Comedy - null null
2025-07-27 00:20:48.554 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:48.559 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:20:48.934 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:20:48.944 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:20:48.950 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 382.127ms
2025-07-27 00:20:48.953 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:20:48.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20world&genre=Comedy - 200 null application/json; charset=utf-8 422.5168ms
2025-07-27 00:21:01.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20&genre=Music - null null
2025-07-27 00:21:02.008 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:02.012 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:21:02.362 +01:00 [INF] Executed DbCommand (285ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC
2025-07-27 00:21:02.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:21:02.382 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 309.9676ms
2025-07-27 00:21:02.388 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:02.397 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20&genre=Music - 200 null application/json; charset=utf-8 401.8458ms
2025-07-27 00:21:13.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - null null
2025-07-27 00:21:13.469 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:13.473 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 00:21:13.800 +01:00 [INF] Executed DbCommand (300ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC
2025-07-27 00:21:13.807 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 00:21:13.812 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 329.9633ms
2025-07-27 00:21:13.817 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 00:21:13.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - 200 null application/json; charset=utf-8 361.4555ms
2025-07-27 00:24:11.400 +01:00 [INF] Application is shutting down...
2025-07-27 01:01:35.050 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:01:35.293 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:01:35.301 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:01:35.305 +01:00 [INF] Hosting environment: Development
2025-07-27 01:01:35.309 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:01:49.614 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - null null
2025-07-27 01:01:49.792 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 01:01:49.928 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/26/2025 11:27:14 PM', Current time (UTC): '7/27/2025 12:01:49 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-27 01:01:49.946 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/26/2025 11:27:14 PM', Current time (UTC): '7/27/2025 12:01:49 AM'.
2025-07-27 01:01:49.959 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-27 01:01:49.970 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-27 01:01:49.982 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - 401 0 null 370.9029ms
2025-07-27 01:02:00.884 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-27 01:02:00.894 +01:00 [INF] CORS policy execution failed.
2025-07-27 01:02:00.897 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-27 01:02:00.907 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/26/2025 11:27:14 PM', Current time (UTC): '7/27/2025 12:02:00 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-27 01:02:00.917 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/26/2025 11:27:14 PM', Current time (UTC): '7/27/2025 12:02:00 AM'.
2025-07-27 01:02:00.929 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 01:02:00.990 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-27 01:02:05.771 +01:00 [INF] Executed DbCommand (301ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 01:02:06.305 +01:00 [INF] Executed DbCommand (265ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-27 01:02:06.598 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 01:02:07.358 +01:00 [INF] Executed DbCommand (272ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-27 01:02:07.437 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-27 01:02:07.515 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6511.5184ms
2025-07-27 01:02:07.530 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 01:02:07.563 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 6678.8069ms
2025-07-27 01:02:33.624 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-27 01:02:33.668 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 01:02:33.686 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:02:34.158 +01:00 [INF] Executed DbCommand (300ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."ThumbnailUrl", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 01:02:34.174 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:02:34.206 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 506.5131ms
2025-07-27 01:02:34.212 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 01:02:34.215 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 590.931ms
2025-07-27 01:02:40.595 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - null null
2025-07-27 01:02:40.608 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:02:40.624 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:02:41.029 +01:00 [INF] Executed DbCommand (267ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC
2025-07-27 01:02:41.082 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:02:41.136 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 500.4034ms
2025-07-27 01:02:41.141 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:02:41.146 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=juice%20 - 200 null application/json; charset=utf-8 550.8521ms
2025-07-27 01:04:57.416 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - null null
2025-07-27 01:04:57.426 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:04:57.430 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:04:57.710 +01:00 [INF] Executed DbCommand (269ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC
2025-07-27 01:04:57.721 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:04:57.726 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 288.7914ms
2025-07-27 01:04:57.733 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:04:57.737 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - 200 null application/json; charset=utf-8 321.8172ms
2025-07-27 01:11:25.113 +01:00 [INF] Application is shutting down...
2025-07-27 01:11:45.656 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:11:45.973 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:11:45.984 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:11:45.988 +01:00 [INF] Hosting environment: Development
2025-07-27 01:11:45.992 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:12:02.150 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - null null
2025-07-27 01:12:02.273 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 01:12:02.487 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:12:02.542 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:12:04.549 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-27 01:12:06.988 +01:00 [INF] Executed DbCommand (353ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", l."Id", l."LikedAt", l."UserId", l."VideoId"
FROM "Videos" AS v
LEFT JOIN "Comments" AS c ON v."Id" = c."VideoId"
LEFT JOIN "Likes" AS l ON v."Id" = l."VideoId"
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC, v."Id", c."Id"
2025-07-27 01:12:07.266 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:12:07.629 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 5072.605ms
2025-07-27 01:12:07.652 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:12:07.667 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-27 01:12:08.003 +01:00 [ERR] Exception: JsonException - A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Comments.Video.Id.
2025-07-27 01:12:08.092 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - 500 null application/json; charset=utf-8 5944.8712ms
2025-07-27 01:12:42.070 +01:00 [INF] Application is shutting down...
2025-07-27 01:12:52.739 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:12:53.101 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:12:53.119 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:12:53.210 +01:00 [INF] Hosting environment: Development
2025-07-27 01:12:53.214 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:14:07.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - null null
2025-07-27 01:14:07.850 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 01:14:08.017 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:14:08.048 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:14:12.089 +01:00 [INF] Executed DbCommand (348ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
FROM "Videos" AS v
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC
2025-07-27 01:14:12.209 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:14:12.320 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 4262.7451ms
2025-07-27 01:14:12.325 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:14:12.338 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - 200 null application/json; charset=utf-8 4550.2693ms
2025-07-27 01:28:07.259 +01:00 [INF] Application is shutting down...
2025-07-27 01:28:31.169 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:28:31.387 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:28:31.395 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:28:31.399 +01:00 [INF] Hosting environment: Development
2025-07-27 01:28:31.405 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:28:38.264 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - null null
2025-07-27 01:28:38.552 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 01:28:38.921 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/27/2025 12:17:06 AM', Current time (UTC): '7/27/2025 12:28:38 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-27 01:28:38.949 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/27/2025 12:17:06 AM', Current time (UTC): '7/27/2025 12:28:38 AM'.
2025-07-27 01:28:38.968 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-27 01:28:38.984 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-27 01:28:39.002 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - 401 0 null 745.7314ms
2025-07-27 01:29:30.315 +01:00 [INF] Application is shutting down...
2025-07-27 01:29:42.211 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:29:42.452 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:29:42.471 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:29:42.476 +01:00 [INF] Hosting environment: Development
2025-07-27 01:29:42.482 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:30:08.636 +01:00 [INF] Application is shutting down...
2025-07-27 01:30:15.975 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:30:16.183 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:30:16.193 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:30:16.197 +01:00 [INF] Hosting environment: Development
2025-07-27 01:30:16.201 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:30:48.850 +01:00 [INF] Application is shutting down...
2025-07-27 01:30:58.217 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-27 01:30:58.957 +01:00 [INF] Now listening on: http://localhost:5213
2025-07-27 01:30:59.176 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-27 01:30:59.365 +01:00 [INF] Hosting environment: Development
2025-07-27 01:30:59.586 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\streamnest\streamnest.api
2025-07-27 01:31:00.966 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5213/api/authentication/login - application/json 57
2025-07-27 01:31:01.080 +01:00 [WRN] Failed to determine the https port for redirect.
2025-07-27 01:31:01.134 +01:00 [INF] CORS policy execution failed.
2025-07-27 01:31:01.147 +01:00 [INF] Request origin http://localhost:5213 does not have permission to access the resource.
2025-07-27 01:31:01.379 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/27/2025 12:17:06 AM', Current time (UTC): '7/27/2025 12:31:01 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-27 01:31:01.415 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/27/2025 12:17:06 AM', Current time (UTC): '7/27/2025 12:31:01 AM'.
2025-07-27 01:31:01.426 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 01:31:01.493 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(StreamNest.Application.DTOs.UserForAuthenticationDto) on controller StreamNest.API.Controllers.AuthenticationController (StreamNest.API).
2025-07-27 01:31:06.663 +01:00 [INF] Executed DbCommand (358ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 01:31:07.280 +01:00 [INF] Executed DbCommand (296ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-27 01:31:07.595 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-27 01:31:08.257 +01:00 [INF] Executed DbCommand (335ms) [Parameters=[@p19='?', @p0='?' (DbType = Int32), @p1='?', @p20='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "Role" = @p15, "SecurityStamp" = @p16, "TwoFactorEnabled" = @p17, "UserName" = @p18
WHERE "Id" = @p19 AND "ConcurrencyStamp" = @p20;
2025-07-27 01:31:08.316 +01:00 [INF] Executing OkObjectResult, writing value of type 'StreamNest.Application.DTOs.TokenDto'.
2025-07-27 01:31:08.381 +01:00 [INF] Executed action StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API) in 6875.7ms
2025-07-27 01:31:08.393 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.AuthenticationController.Authenticate (StreamNest.API)'
2025-07-27 01:31:08.417 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5213/api/authentication/login - 200 null application/json; charset=utf-8 7454.1211ms
2025-07-27 01:31:27.543 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts - null null
2025-07-27 01:31:27.621 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 01:31:27.640 +01:00 [INF] Route matched with {action = "GetAllVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVideos() on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:31:28.160 +01:00 [INF] Executed DbCommand (300ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AgeRating", t."CreatorId", t."Description", t."Genre", t."ThumbnailUrl", t."Title", t."UploadDate", t."VideoUrl", t."VideoYear", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t0."VideoId", t0."TagId", t0."Id", t0."Name"
FROM (
    SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear"
    FROM "Videos" AS v
    ORDER BY v."UploadDate" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v0."VideoId", v0."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t1 ON v0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."VideoId"
ORDER BY t."UploadDate" DESC, t."Id", a."Id", t0."VideoId", t0."TagId"
2025-07-27 01:31:28.194 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StreamNest.Domain.Entities.Models.Video, StreamNest.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:31:28.244 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API) in 596.2498ms
2025-07-27 01:31:28.251 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.GetAllVideos (StreamNest.API)'
2025-07-27 01:31:28.255 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts - 200 null application/json; charset=utf-8 712.5953ms
2025-07-27 01:31:37.629 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - null null
2025-07-27 01:31:37.663 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:31:37.710 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:31:37.861 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-27 01:31:38.200 +01:00 [INF] Executed DbCommand (321ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", t0."VideoId", t0."TagId", t0."Id", t0."Name", c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", l."Id", l."LikedAt", l."UserId", l."VideoId", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
LEFT JOIN "Comments" AS c ON v."Id" = c."VideoId"
LEFT JOIN "Likes" AS l ON v."Id" = l."VideoId"
WHERE lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId", t0."Id", c."Id"
2025-07-27 01:31:38.411 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:31:38.415 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 691.2659ms
2025-07-27 01:31:38.418 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:31:38.422 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video - 200 null application/json; charset=utf-8 792.4169ms
2025-07-27 01:31:54.637 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - null null
2025-07-27 01:31:54.647 +01:00 [INF] Executing endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:31:54.652 +01:00 [INF] Route matched with {action = "SearchVideos", controller = "VideoPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String, System.Nullable`1[StreamNest.Domain.Entities.Models.Genre], System.Nullable`1[System.Int32]) on controller StreamNest.API.Controllers.VideoPostController (StreamNest.API).
2025-07-27 01:31:54.701 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-27 01:31:55.051 +01:00 [INF] Executed DbCommand (303ms) [Parameters=[@__loweredQuery_0_contains='?', @__loweredQuery_0_contains_1='?', @__loweredQuery_0_contains_2='?', @__genre_Value_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."AgeRating", v."CreatorId", v."Description", v."Genre", v."ThumbnailUrl", v."Title", v."UploadDate", v."VideoUrl", v."VideoYear", a."Id", t0."VideoId", t0."TagId", t0."Id", t0."Name", c."Id", c."Content", c."CreatedAt", c."UserId", c."VideoId", l."Id", l."LikedAt", l."UserId", l."VideoId", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Videos" AS v
INNER JOIN "AspNetUsers" AS a ON v."CreatorId" = a."Id"
LEFT JOIN (
    SELECT v1."VideoId", v1."TagId", t1."Id", t1."Name"
    FROM "VideoTags" AS v1
    INNER JOIN "Tags" AS t1 ON v1."TagId" = t1."Id"
) AS t0 ON v."Id" = t0."VideoId"
LEFT JOIN "Comments" AS c ON v."Id" = c."VideoId"
LEFT JOIN "Likes" AS l ON v."Id" = l."VideoId"
WHERE (lower(v."Title") LIKE @__loweredQuery_0_contains OR lower(v."Description") LIKE @__loweredQuery_0_contains_1 OR EXISTS (
    SELECT 1
    FROM "VideoTags" AS v0
    INNER JOIN "Tags" AS t ON v0."TagId" = t."Id"
    WHERE v."Id" = v0."VideoId" AND lower(t."Name") LIKE @__loweredQuery_0_contains_2)) AND v."Genre" = @__genre_Value_1
ORDER BY v."UploadDate" DESC, v."Id", a."Id", t0."VideoId", t0."TagId", t0."Id", c."Id"
2025-07-27 01:31:55.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StreamNest.Application.DTOs.VideoDto, StreamNest.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-27 01:31:55.070 +01:00 [INF] Executed action StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API) in 411.7058ms
2025-07-27 01:31:55.075 +01:00 [INF] Executed endpoint 'StreamNest.API.Controllers.VideoPostController.SearchVideos (StreamNest.API)'
2025-07-27 01:31:55.078 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5213/api/VideoPosts/search?query=video&genre=Comedy - 200 null application/json; charset=utf-8 441.4709ms
2025-07-27 01:32:24.059 +01:00 [INF] Application is shutting down...
